<div class="home-container">
    <!-- Header -->
    <header class="header">
        <div class="container">
            <div class="header-content">
                <div class="logo">
                    <h1>Shanal Tours</h1>
                    <p>Your Gateway to Mauritius</p>
                </div>
                <nav class="nav">
                    <a href="#services" class="nav-link">Services</a>
                    <a href="#contact" class="nav-link">Contact</a>
                </nav>
                <button class="mobile-menu-btn" (click)="toggleMobileMenu()">
                    <span class="hamburger"></span>
                    <span class="hamburger"></span>
                    <span class="hamburger"></span>
                </button>
            </div>
        </div>
    </header>

    <!-- Services Filters (disabled for now; uncomment when needed)
    <section class="services-filters" (ngModelChange)="applyFilters()">
        <div class="container">
            <div class="filters">
                <label>
                    <span>Type</span>
                    <select [(ngModel)]="filter.type" (change)="applyFilters()">
                        <option value="">All</option>
                        <option value="car-rental">Car Rental</option>
                        <option value="sightseeing-tour">Sightseeing Tour</option>
                        <option value="catamaran-trip">Catamaran Trip</option>
                        <option value="ile-aux-cerfs">Ile Aux Cerfs</option>
                        <option value="airport-transfer">Airport Transfer</option>
                    </select>
                </label>
                <label>
                    <span>Max Price (MUR)</span>
                    <input type="number" min="0" [(ngModel)]="filter.maxPrice" (input)="applyFilters()"
                        placeholder="e.g. 3000">
                </label>
            </div>
        </div>
    </section>
    -->
    <!-- Mobile Navigation Menu -->
    <div class="mobile-menu" [class.active]="mobileMenuOpen">
        <nav class="mobile-nav">
            <a href="#services" class="mobile-nav-link" (click)="closeMobileMenu()">Services</a>
            <a href="#contact" class="mobile-nav-link" (click)="closeMobileMenu()">Contact</a>
        </nav>
    </div>

    <!-- Hero Section -->
    <section class="hero">
        <div class="hero-background">
            <div class="hero-overlay"></div>
        </div>
        <div class="container">
            <div class="hero-content">
                <div class="hero-badge">
                    <span>üèùÔ∏è Your Trusted Travel Partner in Mauritius</span>
                </div>
                <h1>Explore Mauritius with <span class="highlight">Shanal Tours</span></h1>
                <p class="hero-subtitle">Reliable car rental, guided tours, and transportation services across
                    Mauritius. From airport transfers to island adventures - we make your Mauritius experience
                    unforgettable.</p>
                <div class="hero-stats">
                    <div class="stat">
                        <span class="stat-number">5+</span>
                        <span class="stat-label">Years Experience</span>
                    </div>
                    <div class="stat">
                        <span class="stat-number">100+</span>
                        <span class="stat-label">Happy Customers</span>
                    </div>
                    <div class="stat">
                        <span class="stat-number">24/7</span>
                        <span class="stat-label">Support Available</span>
                    </div>
                </div>
                <div class="hero-actions">
                    <a href="#services" class="cta-button primary">
                        <span>Explore Our Services</span>
                        <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor"
                            stroke-width="2">
                            <path d="M5 12h14M12 5l7 7-7 7" />
                        </svg>
                    </a>
                    <a href="#contact" class="cta-button secondary">
                        <span>Get Free Quote</span>
                    </a>
                </div>
            </div>
        </div>
    </section>

    <!-- Services Section -->
    <section id="services" class="services">
        <div class="container">
            <div class="section-header">
                <h2 class="section-title">Our Services</h2>
                <p class="section-subtitle">From car rentals to guided tours, we offer everything you need to explore
                    Mauritius comfortably and safely</p>
            </div>
            <div class="services-grid">
                <div *ngFor="let service of services; let i = index" class="service-card"
                    (click)="openBookingModal(service)">
                    <div class="service-image"
                        [style.background-image]="'url(' + (service.imageUrl || defaultServiceImage) + ')'">
                        <div class="service-badge" *ngIf="i === 0">Most Popular</div>
                    </div>
                    <div class="service-content">
                        <div class="service-header">
                            <h3>{{ service.name }}</h3>
                            <div class="service-rating">
                                <span class="stars">‚òÖ‚òÖ‚òÖ‚òÖ‚òÖ</span>
                                <span class="rating-text">4.9/5</span>
                            </div>
                        </div>
                        <p class="service-description">{{ service.description }}</p>
                        <div class="service-features">
                            <div class="feature">
                                <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor"
                                    stroke-width="2">
                                    <path d="M9 12l2 2 4-4" />
                                    <path d="M21 12c-1 0-3-1-3-3s2-3 3-3 3 1 3 3-2 3-3 3" />
                                    <path d="M3 12c1 0 3-1 3-3s-2-3-3-3-3 1-3 3 2 3 3 3" />
                                    <path d="M12 3c0 1-1 3-3 3s-3-2-3-3 1-3 3-3 3 2 3 3" />
                                    <path d="M12 21c0-1 1-3 3-3s3 2 3 3-1 3-3 3-3-2-3-3" />
                                </svg>
                                <span>Professional Driver</span>
                            </div>
                            <div class="feature">
                                <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor"
                                    stroke-width="2">
                                    <path
                                        d="M12 2l3.09 6.26L22 9.27l-5 4.87 1.18 6.88L12 17.77l-6.18 3.25L7 14.14 2 9.27l6.91-1.01L12 2z" />
                                </svg>
                                <span>Premium Experience</span>
                            </div>
                        </div>
                        <div class="service-footer">
                            <div class="service-price">
                                <span class="price">MUR {{ service.price }}</span>
                                <span class="duration">{{ service.duration }}</span>
                            </div>
                            <button class="book-btn">
                                <span>Book Now</span>
                                <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor"
                                    stroke-width="2">
                                    <path d="M5 12h14M12 5l7 7-7 7" />
                                </svg>
                            </button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Testimonials Section -->
    <section class="testimonials">
        <div class="container">
            <div class="section-header">
                <h2 class="section-title">What Our Customers Say</h2>
                <p class="section-subtitle">Don't just take our word for it - hear from our satisfied customers</p>
            </div>
            <div class="testimonials-grid">
                <div class="testimonial-card">
                    <div class="testimonial-content">
                        <div class="stars">‚òÖ‚òÖ‚òÖ‚òÖ‚òÖ</div>
                        <p>"Excellent service! The car was clean and reliable. The team was very professional and helped
                            us explore Mauritius comfortably. Highly recommended!"</p>
                    </div>
                    <div class="testimonial-author">
                        <div class="author-info">
                            <h4>Sarah Johnson</h4>
                            <span>From UK</span>
                        </div>
                    </div>
                </div>
                <div class="testimonial-card">
                    <div class="testimonial-content">
                        <div class="stars">‚òÖ‚òÖ‚òÖ‚òÖ‚òÖ</div>
                        <p>"The sightseeing tour was amazing! Our guide was knowledgeable and showed us the most
                            beautiful places in Mauritius. Worth every penny!"</p>
                    </div>
                    <div class="testimonial-author">
                        <div class="author-info">
                            <h4>Michael Chen</h4>
                            <span>From Australia</span>
                        </div>
                    </div>
                </div>
                <div class="testimonial-card">
                    <div class="testimonial-content">
                        <div class="stars">‚òÖ‚òÖ‚òÖ‚òÖ‚òÖ</div>
                        <p>"The catamaran trip was the highlight of our vacation! Beautiful waters, great food, and
                            excellent service. We'll definitely book again!"</p>
                    </div>
                    <div class="testimonial-author">
                        <div class="author-info">
                            <h4>Emma Rodriguez</h4>
                            <span>From Spain</span>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- About Section -->
    <section class="about">
        <div class="container">
            <div class="about-content">
                <div class="about-text">
                    <h2 class="section-title">About Shanal Tours</h2>
                    <p class="about-description">
                        With over 5 years of experience in Mauritius tourism, Shanal Tours has been your trusted partner
                        for unforgettable travel experiences.
                        We specialize in providing reliable, comfortable, and affordable transportation and tour
                        services across the beautiful island of Mauritius.
                    </p>
                    <div class="about-features">
                        <div class="feature-item">
                            <div class="feature-icon">üèÜ</div>
                            <div class="feature-content">
                                <h4>5+ Years Experience</h4>
                                <p>Trusted by thousands of satisfied customers</p>
                            </div>
                        </div>
                        <div class="feature-item">
                            <div class="feature-icon">üõ°Ô∏è</div>
                            <div class="feature-content">
                                <h4>Fully Licensed & Insured</h4>
                                <p>Registered business with comprehensive insurance</p>
                            </div>
                        </div>
                        <div class="feature-item">
                            <div class="feature-icon">üë•</div>
                            <div class="feature-content">
                                <h4>Local Expertise</h4>
                                <p>Born and raised in Mauritius, we know the best spots</p>
                            </div>
                        </div>
                        <div class="feature-item">
                            <div class="feature-icon">üöó</div>
                            <div class="feature-content">
                                <h4>Modern Fleet</h4>
                                <p>Well-maintained, air-conditioned vehicles</p>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="about-stats">
                    <div class="stat-item">
                        <div class="stat-number">1000+</div>
                        <div class="stat-label">Happy Customers</div>
                    </div>
                    <div class="stat-item">
                        <div class="stat-number">5000+</div>
                        <div class="stat-label">Tours Completed</div>
                    </div>
                    <div class="stat-item">
                        <div class="stat-number">4.9/5</div>
                        <div class="stat-label">Average Rating</div>
                    </div>
                    <div class="stat-item">
                        <div class="stat-number">24/7</div>
                        <div class="stat-label">Customer Support</div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Contact Section -->
    <section id="contact" class="contact">
        <div class="container">
            <h2 class="section-title">Get In Touch</h2>
            <div class="contact-info">
                <div class="contact-item">
                    <i class="contact-icon">üìû</i>
                    <div>
                        <h4>Call Us</h4>
                        <p>+230 283 1414</p>
                        <small>Landline - Available 24/7</small>
                    </div>
                </div>
                <div class="contact-item">
                    <i class="contact-icon">üì±</i>
                    <div>
                        <h4>Mobile</h4>
                        <p>+230 5707 1414</p>
                        <small>WhatsApp & SMS available</small>
                    </div>
                </div>
                <div class="contact-item">
                    <i class="contact-icon">üìß</i>
                    <div>
                        <h4>Email Us</h4>
                        <p>shanal&#64;intnet.mu</p>
                        <small>We respond within 2 hours</small>
                    </div>
                </div>
                <div class="contact-item">
                    <i class="contact-icon">üìç</i>
                    <div>
                        <h4>Our Location</h4>
                        <p>Atlas Road, Goodlands</p>
                        <small>Mauritius - Free pickup from hotels</small>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Footer -->
    <footer class="footer">
        <div class="container">
            <div class="footer-content">
                <div class="footer-main">
                    <h3>Shanal Tours</h3>
                    <p>Your trusted travel partner in Mauritius</p>
                    <p>Registered Business: C16135271</p>
                    <div class="footer-social">
                        <a href="https://facebook.com" target="_blank" rel="noopener" aria-label="Facebook">üîµ</a>
                        <a href="https://instagram.com" target="_blank" rel="noopener" aria-label="Instagram">üì∏</a>
                        <a href="https://wa.me/23057071414" target="_blank" rel="noopener" aria-label="WhatsApp">üí¨</a>
                    </div>
                </div>
                <div class="footer-services">
                    <h4>Our Services</h4>
                    <ul>
                        <li>Car Rental</li>
                        <li>Sightseeing Tours</li>
                        <li>Catamaran Trips</li>
                        <li>Island Excursions</li>
                        <li>Airport Transfers</li>
                    </ul>
                </div>
                <div class="footer-contact">
                    <h4>Contact Info</h4>
                    <p>üìû +230 283 1414</p>
                    <p>üì± +230 5707 1414</p>
                    <p>üìß shanal&#64;intnet.mu</p>
                    <p>üìç Atlas Road, Goodlands</p>
                </div>
            </div>
            <div class="footer-bottom">
                <p>&copy; 2024 Shanal Tours. All rights reserved. | Registered Business C16135271</p>
            </div>
        </div>
    </footer>

    <!-- Booking Modal -->
    <div *ngIf="showBookingModal" class="modal-overlay" (click)="closeBookingModal()">
        <div class="modal" (click)="$event.stopPropagation()">
            <div class="modal-header">
                <h3>Book {{ selectedService?.name }}</h3>
                <button class="close-btn" (click)="closeBookingModal()">&times;</button>
            </div>
            <div class="modal-body">
                <form (ngSubmit)="submitBooking()" #bookingForm="ngForm" novalidate>
                    <div class="form-group">
                        <label for="customerName">Full Name *</label>
                        <input type="text" id="customerName" name="customerName"
                            [(ngModel)]="bookingFormData.customerName" required minlength="2" class="form-input"
                            placeholder="Enter your full name" #customerName="ngModel">
                        <div class="form-error"
                            *ngIf="customerName.invalid && (customerName.dirty || customerName.touched)">
                            <small *ngIf="customerName.errors?.['required']">Full name is required.</small>
                            <small *ngIf="customerName.errors?.['minlength']">Name must be at least 2
                                characters.</small>
                        </div>
                    </div>

                    <div class="form-group">
                        <label for="customerEmail">Email</label>
                        <input type="email" id="customerEmail" name="customerEmail"
                            [(ngModel)]="bookingFormData.customerEmail" class="form-input" placeholder="you@example.com"
                            email #customerEmail="ngModel">
                        <div class="form-error"
                            *ngIf="customerEmail.invalid && (customerEmail.dirty || customerEmail.touched)">
                            <small>Enter a valid email address.</small>
                        </div>
                    </div>

                    <div class="form-group">
                        <label for="customerPhone">Phone Number *</label>
                        <input type="tel" id="customerPhone" name="customerPhone"
                            [(ngModel)]="bookingFormData.customerPhone" required class="form-input"
                            placeholder="+230 5707 1414" pattern="^\+?[0-9\s-]{7,15}$" #customerPhone="ngModel">
                        <div class="form-error"
                            *ngIf="customerPhone.invalid && (customerPhone.dirty || customerPhone.touched)">
                            <small *ngIf="customerPhone.errors?.['required']">Phone number is required.</small>
                            <small *ngIf="customerPhone.errors?.['pattern']">Enter a valid phone number.</small>
                        </div>
                    </div>

                    <div class="form-group" *ngIf="selectedService?.id !== 'car-rental'; else carRentalDates">
                        <label for="bookingDate">Preferred Date *</label>
                        <input type="date" id="bookingDate" name="bookingDate" [(ngModel)]="bookingFormData.bookingDate"
                            required class="form-input" [min]="today" #bookingDate="ngModel">
                        <div class="form-error"
                            *ngIf="bookingDate?.invalid && (bookingDate.dirty || bookingDate.touched)">
                            <small>Date is required.</small>
                        </div>
                    </div>

                    <ng-template #carRentalDates>
                        <div class="form-row">
                            <div class="form-group">
                                <label for="startDate">Start Date *</label>
                                <input type="date" id="startDate" name="startDate"
                                    [(ngModel)]="bookingFormData.startDate" required class="form-input" [min]="today"
                                    #startDate="ngModel">
                                <div class="form-error"
                                    *ngIf="startDate.invalid && (startDate.dirty || startDate.touched)">
                                    <small>Start date is required.</small>
                                </div>
                            </div>
                            <div class="form-group">
                                <label for="endDate">End Date *</label>
                                <input type="date" id="endDate" name="endDate" [(ngModel)]="bookingFormData.endDate"
                                    required class="form-input" [min]="bookingFormData.startDate || today"
                                    #endDate="ngModel">
                                <div class="form-error" *ngIf="endDate.invalid && (endDate.dirty || endDate.touched)">
                                    <small>End date is required and cannot be before start date.</small>
                                </div>
                            </div>
                        </div>
                        <div class="pricing-note" *ngIf="rentalDays > 0">
                            <small>Estimated days: {{ rentalDays }} ‚Ä¢ Est. total: MUR {{ rentalTotal | number:'1.0-0'
                                }}</small>
                        </div>
                    </ng-template>

                    <div class="form-group">
                        <label for="notes">Additional Notes</label>
                        <textarea id="notes" name="notes" [(ngModel)]="bookingFormData.notes" class="form-input"
                            rows="3" placeholder="Any special requests or additional information..."></textarea>
                    </div>

                    <div class="form-actions">
                        <button type="button" class="btn-secondary" (click)="closeBookingModal()">Cancel</button>
                        <button type="submit" class="btn-primary" [disabled]="!bookingForm.valid || isSubmitting">
                            {{ isSubmitting ? 'Submitting...' : 'Submit Booking' }}
                        </button>
                    </div>
                </form>
            </div>
        </div>
    </div>

    <!-- Success Modal -->
    <div *ngIf="showSuccessModal" class="modal-overlay" (click)="closeSuccessModal()">
        <div class="modal success-modal" (click)="$event.stopPropagation()">
            <div class="modal-header">
                <h3>Booking Submitted Successfully!</h3>
                <button class="close-btn" (click)="closeSuccessModal()">&times;</button>
            </div>
            <div class="modal-body">
                <div class="success-content">
                    <i class="success-icon">‚úÖ</i>
                    <p>Thank you for your booking request! You'll receive an email confirmation shortly. Our team will
                        reach out within 2 hours to confirm availability and arrange payment manually by cash, EFT, or
                        local mobile wallet.</p>
                    <div class="success-actions">
                        <a *ngIf="whatsAppUrl" class="btn-primary" [href]="whatsAppUrl" target="_blank"
                            rel="noopener">Notify on WhatsApp</a>
                        <button class="btn-secondary" (click)="closeSuccessModal()">Close</button>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <app-ai-chatbot></app-ai-chatbot>
</div>